<template name="CompanyListForms">
  <h1>List of Forms</h1>
  <div class="ui divider"></div>
  <table class="ui very basic padded table">
    <tbody>
      {{#each forms}}
        <tr>
          <td>
            <span class="ui large header" style="margin-right:10px;">{{ index }}</span>
          </td>
          <td>
            <h4 class="ui image header">
              <div class="content">
                <a class="list-item-header" href="{{ pathFor 'edit_form' formId=_id }}"><i class="blue edit icon"></i> {{ title }}</a> ({{#if equals type "form"}}survey{{else}}test{{/if}})
                <div class="sub header">
                  created <b>{{ dateFromNow createdAt }}</b>,
                  updated <b>{{ dateFromNow updatedAt }}</b>,
                </div>
              </div>
            </h4>
          </td>
          <td class="single line right aligned">
            <a id="preview-form-action" href="{{ pathFor 'preview_form' formId=_id }}"><i class="large green keyboard icon" data-content="See it in action!"></i></a>
            <a id="preview-form-response-action" href="{{ pathFor 'preview_form_response' formId=_id }}"><i class="large blue unhide icon" data-content="Preview the response"></i></a>
            <a id="remove-form" style="cursor:pointer;"><i class="large red remove icon" data-content="Remove"></i></a>
          </td>
        </tr>
      {{else}}
        There are no forms yet!
      {{/each}}

    </tbody>
  </table>
  {{#if forms}}
    <script type="text/javascript">
      setTimeout(function(){
        $('#preview-form-action .large.green.keyboard.icon').popup({ hoverable: true, position : 'left center', delay: { show: 100, hide: 300 } });
        $('#preview-form-response-action .large.blue.unhide.icon').popup({ hoverable: true, position : 'top center', delay: { show: 100, hide: 300 } });
        $('#remove-form .large.red.remove.icon').popup({ hoverable: true, position : 'right center', delay: { show: 100, hide: 300 } });
      }, 1000);
    </script>
  {{/if}}
</template>
